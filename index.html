<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Bringing together students and professionals to reduce existential risks from advanced AI systems.">
  <title>Cambridge AI Safety Hub</title>

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://cambridgeaisafety.org/">
  <meta property="og:title" content="Cambridge AI Safety Hub">
  <meta property="og:description" content="Bringing together students and professionals to reduce existential risks from advanced AI systems.">
  <meta property="og:image" content="https://cambridgeaisafety.org/images/og-image.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://cambridgeaisafety.org/">
  <meta name="twitter:title" content="Cambridge AI Safety Hub">
  <meta name="twitter:description" content="Bringing together students and professionals to reduce existential risks from advanced AI systems.">
  <meta name="twitter:image" content="https://cambridgeaisafety.org/images/og-image.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/images/favicon.png">
  <link rel="apple-touch-icon" href="/images/favicon.png">

  <!-- DNS Prefetch & Preconnect - Resolve external domains early -->
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="dns-prefetch" href="https://lu.ma">
  <link rel="dns-prefetch" href="https://share-eu1.hsforms.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Preload critical resources (render-blocking) -->
  <link rel="preload" href="/styles.css?v=8e2955ea" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="/images/logo.png" as="image">
  <link rel="preload" href="/images/punting-min.png" as="image" fetchpriority="high">
  <link rel="preload" href="https://fonts.gstatic.com/s/librebaskerville/v16/kmKnZrc3Hgbbcjq75U4uslyuy4kqN-INsyY.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="https://fonts.gstatic.com/s/spacemono/v14/i7dPIFZifjKcF5UAWdDRYEF8RQ.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Space+Mono:wght@400&display=swap" rel="stylesheet">

  <!-- Critical CSS - Inline for instant first paint -->
  <style>
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
    html{font-size:16px;-webkit-font-smoothing:antialiased}
    body{font-family:'Space Mono',monospace;background:#fefefe;color:#1a1a1a;line-height:1.8;overflow-x:hidden}
    h1,h2,h3{font-family:'Libre Baskerville',Georgia,serif;font-weight:400}
    h1{font-size:clamp(2.4rem,5.5vw,3.8rem);line-height:1.2}
    nav{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(255,255,255,0.82);border-bottom:1px solid rgba(224,224,224,0.35);backdrop-filter:blur(20px) saturate(1.4);-webkit-backdrop-filter:blur(20px) saturate(1.4)}
    .nav-inner{display:flex;justify-content:space-between;align-items:center;padding:1rem 2.5rem;max-width:1000px;margin:0 auto}
    .logo{height:32px;opacity:0.9}
    .nav-links{display:flex;gap:2.5rem;list-style:none}
    .nav-links a{font-size:0.75rem;color:#4a4a4a;text-decoration:none}
    .hero{max-width:1000px;margin:0 auto;padding:6rem 2.5rem 2.5rem;display:grid;grid-template-columns:1fr 1fr;gap:3rem;align-items:center}
    .label{font-size:0.6rem;letter-spacing:0.3em;text-transform:uppercase;color:#4a4a4a;margin-bottom:1.5rem;display:block}.hero .label{font-family:'Space Mono','Courier New',monospace;font-size:1.1rem;font-weight:700;letter-spacing:0.15em;color:#1a1a1a}
    .hero h1 em{display:block;background:linear-gradient(135deg,#6b3528,#7e4233 20%,#a65d4a 40%,#c47a5e 55%,#d4956e 65%,#c47a5e 75%,#a65d4a 85%,#7e4233);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:gs 6s ease-in-out infinite}
    @keyframes gs{0%,100%{background-position:0% center}50%{background-position:100% center}}
    .hero-image{display:flex;justify-content:flex-end}
    .hero-image img{width:100%;max-height:360px;object-fit:contain}
    .skip-link{position:absolute;top:-40px;left:0;background:#1a1a1a;color:#fefefe;padding:8px 16px;z-index:100}
    .nav-toggle{display:none}
    @media(max-width:600px){.nav-links{display:none}.nav-toggle{display:block;background:none;border:none;cursor:pointer;padding:0.5rem}.nav-toggle span{display:block;width:24px;height:2px;background:#1a1a1a;margin:5px 0}.hero{grid-template-columns:1fr;padding-top:6rem}}
  </style>

  <!-- Styles (async) -->
  <noscript><link rel="stylesheet" href="/styles.css?v=8e2955ea"></noscript>

  <!-- Enhancements -->
  <script src="/enhancements.js?v=114f6765" defer fetchpriority="low"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(() => {});
      });
    }
  </script>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <nav>
    <div class="nav-inner">
      <a href="/" aria-label="Home">
        <img src="/images/logo.png" class="logo" width="50" height="50">
      </a>
      <ul class="nav-links">
        <li><a href="/fellowship">Alignment Fellowship</a></li>
        <li><a href="/desk">Alignment Desk</a></li>
        <li><a href="/mars">MARS</a></li>
        <li><a href="/events">Events</a></li>
        <li><a href="/about">About</a></li>
      </ul>
      <button class="nav-toggle" aria-label="Open menu" id="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <div id="mobile-nav" class="mobile-nav">
    <button class="mobile-nav-close" aria-label="Close menu" id="mobile-nav-close">&times;</button>
    <ul>
      <li><a href="/fellowship">Alignment Fellowship</a></li>
      <li><a href="/desk">Alignment Desk</a></li>
      <li><a href="/mars">MARS</a></li>
      <li><a href="/events">Events</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </div>

  <div class="ambient-glow" aria-hidden="true"></div>
  <main>
  <section class="hero" id="main-content">
    <div class="hero-content">
      <span class="label">Cambridge AI Safety Hub</span>
      <h1>Building the AI Safety<br>Community in <em>Cambridge</em></h1>
      <p>A hub bringing together students and professionals to reduce existential risks from advanced AI systems.</p>
    </div>
    <div class="hero-image">
      <img src="/images/punting-min.png" alt="People punting on the River Cam in Cambridge" loading="eager" fetchpriority="high" decoding="async" width="600" height="400">
    </div>
  </section>

  <div class="divider"><div class="divider-line"></div></div>

  <section id="initiatives" class="initiatives">
    <h2>Core Initiatives</h2>
    <div class="initiatives-list">
      <div class="initiative-item">
        <span class="initiative-num">01</span>
        <div class="initiative-content">
          <h3><a href="/fellowship">Alignment Fellowship</a></h3>
          <p>Our introductory reading groups introduce you to the core problems in AI safety, with two tracks: technical alignment and governance. Best suited for those new to the field.</p>
        </div>
      </div>
      <div class="initiative-item">
        <span class="initiative-num">02</span>
        <div class="initiative-content">
          <h3><a href="/desk">Alignment Desk</a></h3>
          <p>A structured writing programme for members of the Cambridge community with existing exposure to AI safety who want to produce and publish serious work. Participants meet weekly, set goals, and hold each other accountable.</p>
        </div>
      </div>
      <div class="initiative-item">
        <span class="initiative-num">03</span>
        <div class="initiative-content">
          <h3><a href="/events">Events & Community</a></h3>
          <p>Weekly events to help you find companions as you tackle these challenges together. We also run hackathons, retreats, and other special events throughout the year.</p>
        </div>
      </div>
      <div class="initiative-item">
        <span class="initiative-num">04</span>
        <div class="initiative-content">
          <h3><a href="/mars">Mentorship for Alignment Researchers (MARS)</a></h3>
          <p>A research programme that pairs ambitious mentees with established mentors from organisations such as Redwood Research, MIT AI Risk Initiative, and Institute for AI Policy and Strategy. After an intensive in-person kick-off week in Cambridge, teams carry out 8-12 weeks of remote research, culminating in publications.</p>
        </div>
      </div>
    </div>
  </section>

  <div class="divider"><div class="divider-line"></div></div>

  <section id="events" class="events">
    <div class="events-header">
      <div>
        <h2>Upcoming Events</h2>
      </div>
      <a href="/events" class="events-link">View all events</a>
    </div>
    <div id="home-events-container">
      <div class="skeleton-container">
        <div class="skeleton-event"><div class="skeleton-date"></div><div class="skeleton-info"><div class="skeleton-title"></div><div class="skeleton-location"></div></div></div>
        <div class="skeleton-event"><div class="skeleton-date"></div><div class="skeleton-info"><div class="skeleton-title"></div><div class="skeleton-location"></div></div></div>
        <div class="skeleton-event"><div class="skeleton-date"></div><div class="skeleton-info"><div class="skeleton-title"></div><div class="skeleton-location"></div></div></div>
      </div>
    </div>
  </section>

  <section id="join" class="cta dark-bg">
    <div class="cta-inner">
      <div>
        <h2>Keep in touch</h2>
        <p>Get updates on our events, reading groups, and research programmes straight to your inbox.</p>
        <a href="https://share-eu1.hsforms.com/2KPfUeCBRQI-OBE-kSQXfuQ2fgt25" class="btn">Join our mailing list</a>
      </div>
      <div class="cta-image">
        <img src="/images/footer-logo-min.png" alt="CAISH logo" loading="lazy" decoding="async" width="200" height="200">
      </div>
    </div>
  </section>
  </main>

  <!-- Back to Top Button -->
  <button class="back-to-top" aria-label="Back to top">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="18 15 12 9 6 15"></polyline>
    </svg>
  </button>

  <footer>
    <div class="footer-inner">
      <div class="footer-legal">
        Cambridge AI Safety Hub is a project of <a href="https://find-and-update.company-information.service.gov.uk/company/13653958" target="_blank" rel="noopener">Meridian Impact CIC</a>, a Community Interest Company registered at Companies House (company number 13653958).
      </div>
      <span class="footer-copy">&copy; 2026 CAISH</span>
    </div>
  </footer>

  <script>
    const MobileNav = {
      init() {
        const nav = document.getElementById('mobile-nav');
        const toggle = document.getElementById('nav-toggle');
        const close = document.getElementById('mobile-nav-close');

        toggle?.addEventListener('click', () => nav?.classList.add('active'));
        close?.addEventListener('click', () => nav?.classList.remove('active'));
        nav?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => nav.classList.remove('active')));
      }
    };

    const HomeEvents = {
      escapeHtml(unsafe) {
        if (typeof unsafe !== 'string') return '';
        return unsafe
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#039;');
      },

      async init() {
        const container = document.getElementById('home-events-container');
        if (!container) return;

        try {
          const response = await fetch('/.netlify/functions/events?limit=3');
          const data = await response.json();

          if (!response.ok) {
            throw new Error(data.error || 'Failed to load events');
          }

          this.renderEvents(container, data.events);
        } catch (error) {
          console.error('Error loading events:', error);
          container.innerHTML = '<div class="events-empty">Events coming soon.</div>';
        }
      },

      formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-GB', {
          weekday: 'short',
          day: 'numeric',
          month: 'short'
        });
      },

      formatTime(dateString) {
        const date = new Date(dateString);
        return date.toLocaleTimeString('en-GB', {
          hour: '2-digit',
          minute: '2-digit'
        });
      },

      renderEvents(container, events) {
        // Filter to only upcoming events
        const now = new Date();
        const upcoming = events.filter(e => {
          const event = e.event || e;
          const startDate = new Date(event.start_at || event.start_time);
          return startDate >= now;
        });

        if (!upcoming || upcoming.length === 0) {
          container.innerHTML = '<div class="events-empty">No upcoming events. Check back soon!</div>';
          return;
        }

        let html = '<div class="home-events-list">';
        upcoming.forEach(entry => {
          const event = entry.event || entry;
          const name = event.name || 'Untitled Event';
          const startAt = event.start_at || event.start_time;
          const url = event.url || (event.api_id ? `https://lu.ma/${event.api_id}` : '#');
          const location = event.geo_address_info?.city || event.location || 'Cambridge';

          html += `
            <a href="${this.escapeHtml(url)}" target="_blank" rel="noopener" class="home-event-item">
              <div class="home-event-date">
                <span class="home-event-day">${this.escapeHtml(this.formatDate(startAt))}</span>
                <span class="home-event-time">${this.escapeHtml(this.formatTime(startAt))}</span>
              </div>
              <div class="home-event-info">
                <h3 class="home-event-title">${this.escapeHtml(name)}</h3>
                <span class="home-event-location">${this.escapeHtml(location)}</span>
              </div>
              <span class="home-event-arrow">&rarr;</span>
            </a>
          `;
        });
        html += '</div>';

        container.innerHTML = html;
      }
    };

    const runIdle = (fn) => {
      if ('requestIdleCallback' in window) {
        requestIdleCallback(fn, { timeout: 1500 });
      } else {
        setTimeout(fn, 1);
      }
    };

    const BackToTop = {
      init() {
        const btn = document.querySelector('.back-to-top');
        if (!btn) return;

        window.addEventListener('scroll', () => {
          if (window.scrollY > 400) {
            btn.classList.add('visible');
          } else {
            btn.classList.remove('visible');
          }
        }, { passive: true });

        btn.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }
    };

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', () => {
          MobileNav.init();
          BackToTop.init();
          runIdle(() => HomeEvents.init());
        })
      : (() => {
          MobileNav.init();
          BackToTop.init();
          runIdle(() => HomeEvents.init());
        })();
  </script>
</body>
</html>
